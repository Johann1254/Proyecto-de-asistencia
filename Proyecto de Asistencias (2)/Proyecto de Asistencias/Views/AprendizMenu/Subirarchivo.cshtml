
@{
    Layout = null;
}

<!DOCTYPE html>

<html lang="en">
<head>
    @*<link href="~/Content/Estilos de las vistas de Aprendiz/EstiloSubir.css" rel="stylesheet" />*@
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SubirArchivo</title>
    @*<link href="~/CSS/cssIndex.css" rel="stylesheet" />*@
    <link href="~/CSS/VistaAprendiz.css" rel="stylesheet" />
</head>
<body>
    <header>
    </header>
    <section>

        <div class="container modal" id="mymodal">
            <div class="header">
                <h1>Archivo de soporte de inasistencia</h1>
                <h2>Subir Archivo</h2>
            </div>
            <div class="form-container">
                <form action="@Url.Action("Cargar", "AprendizMenu")" method="post" enctype="multipart/form-data" id="uploadForm">
                    <div class="form-field">
                        <input type="text" name="idAsistencia" id="idAsistencia" placeholder="Ingrese el id de Asistencia" value="" onblur="verificarFecha()" />
                        <div class="boton-files">
                            <input type="file" name="file" id="file" accept=".pdf" onchange="AbrirExpliorer(this)" />
                        </div>
                    </div>
                    <div class="form-field modal-buttons">
                        <button type="submit" value="Subir Archivo" class="button" id="uploadButton">Subir Archivo</button>
                    </div>
                    <div class="mensaje-archivo">
                        <h5>Informacion de la Asistencia</h5>
                        @if (TempData["AlertMessage"] != null)
                        {
                            <div class="alert alert-danger">
                                @TempData["AlertMessage"]
                            </div> }
                        else
                        {
                            <div class="correcto">
                                @TempData["Mensaje"]
                            </div>}
                    </div>
                </form>
            </div>
            <div class="volver">
                <button class="button boton-transicion" onclick="redirectTo('Consultarinasistencias')">Volver</button>
            </div>
        </div>
    </section>
    <footer> Proyecto asistencia © </footer>

    <script>
        function AbrirExpliorer(a) {
            if (a.files && a.files[0]) {
                var file = a.files[0];
                if (file.type !== "application/pdf") {
                    alert("Solo se permiten archivos PDF");
                    a.value = "";
                    return;
                }
                var reader = new FileReader();
                reader.onload = function (e) {
                    document.getElementById('Archivo').innerHTML = '<p>' + file.name + '<p>';
                }
                reader.readAsDataURL(file);
            }
        }

        function redirectTo(url) {
            document.body.classList.add('transicion-salida');
            setTimeout(function () {
                window.location.href = url;
            }, 500);
        }
    </script>
</body>
</html>



